<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<title>vulpix</title>
	<link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="counter.css">
	<link rel="stylesheet" href="jquery.datetimepicker.min.css">
	<script src="jquery-3.2.1.min.js"></script>
    <script src="index.js"></script>
	<script type="text/javascript">
    // Timer function for 30 minute room
    function _timer(callback){
        var time = 1800;     //  The default time of the timer
        var mode = 1;     //    Mode: count up or count down
        var status = 0;    //    Status: timer is running or stoped
        var timer_id;    //    This is used by setInterval function
        
        // this will start the timer ex. start the timer with 1 second interval timer.start(1000) 
        this.start = function(interval)
        {
            interval = (typeof(interval) !== 'undefined') ? interval : 1000;
    
            if(status == 0)
            {
                status = 1;
                timer_id = setInterval(function()
                {
                    switch(mode)
                    {
                        default:
                        if(time)
                        {
                            time--;
                            generateTime();
                            if(typeof(callback) === 'function') callback(time);
                        }
                        break;
                        
                        case 1:
                        if(time < 86400)
                        {
                            time++;
                            generateTime();
                            if(typeof(callback) === 'function') callback(time);
                        }
                        break;
                    }
                }, interval);
            }
        }

            //  Same as the name, this will stop or pause the timer ex. timer.stop()
            this.stop =  function()
            {
                if(status == 1)
                {
                    status = 0;
                    clearInterval(timer_id);
                }
            }
            
            // Reset the timer to zero or reset it to your own custom time ex. reset to zero second timer.reset(0)
            this.reset =  function(sec)
            {
                sec = (typeof(sec) !== 'undefined') ? sec : 0;
                time = sec;
                generateTime(time);
            }
            
            // Change the mode of the timer, count-up (1) or countdown (0)
            this.mode = function(tmode)
            {
                mode = tmode;
            }
            
            // This methode return the current value of the timer
            this.getTime = function()
            {
                return time;
            }
            
            // This methode return the current mode of the timer count-up (1) or countdown (0)
            this.getMode = function()
            {
                return mode;
            }
            
            // This methode return the status of the timer running (1) or stoped (1)
            this.getStatus
            {
                return status;
            }
            
            // This methode will render the time variable to hour:minute:second format
            function generateTime(){
                var second = time % 60;
                var minute = Math.floor(time / 60) % 60;
                var hour = Math.floor(time / 3600) % 60;
                
                second = (second < 10) ? '0'+second : second;
                minute = (minute < 10) ? '0'+minute : minute;
                hour = (hour < 10) ? '0'+hour : hour;
                
                $('div.timer span.second').html(second);
                $('div.timer span.minute').html(minute);
                $('div.timer span.hour').html(hour);
            }
        }
        
        // example use
        var timer;
        
        $(document).ready(function(e) 
        {
            timer = new _timer
            (
                function(time)
                {
                    if(time == 0)
                    {
                        timer.stop();
                        alert('time out');
                    }
                }
            );
            timer.reset(0);
            timer.mode(0);
        });
	</script>
</head>
<body class="rootContainer">

<video id="videoBackground" autoplay muted loop>
  <source src="background.mp4" type="video/mp4">
	Your browser does not support the video tag.
</video>



<div class="container1">
	<div class="innerContainer">
		<span id="currentTime">currentTime</span>
		<span id="currentDate">currentDate</span>
	</div>
</div>

<div class="container2">
	<div class="innerContainer">
		<img id="imageLogo" src="symbio_logo.svg" alt="logo"/>
		<span id="roomName">roomName</span>
	</div>
</div>

<div style="clear:both"></div>

<div id="timerDiv" class="containerTimer">
    <div class="timer">
            <span class="hour">00</span>:<span class="minute">30</span>:<span class="second">00</span>
        </div>
        <div class="control">
            <button id="timerButton" class="timerButtonStart" onClick="timer.start(1000)">Start</button> 
            <button id="timerButton" class="timerButtonStop" onClick="timer.stop()">Stop</button> 
            <button id="timerButton" class="timerButtonReset" onClick="timer.reset(1800)">Reset</button> 
            <!--
                Don't need these actions for now
            <button onClick="timer.mode(1)">Count up</button> 
            <button onClick="timer.mode(0)">Count down</button>
            -->
        </div>
</div>

</body>
</html>
